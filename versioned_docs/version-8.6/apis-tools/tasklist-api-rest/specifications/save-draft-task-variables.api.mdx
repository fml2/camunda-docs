---
id: save-draft-task-variables
title: "Save draft variables"
description: "This operation performs several actions: <br/><ol><li>Validates the task and draft variables.</li><li>Deletes existing draft variables for the task.</li><li>Checks for new draft variables. If a new variable's `name` matches an existing one but the `value` differs, it is saved. In case of duplicate draft variable names, the last variable's value is kept.</li></ol><b>NOTE:</b><ul><li>Invoking this method successively will overwrite all existing draft variables. Only draft variables submitted in the most recent request body will be persisted. Therefore, ensure you include all necessary variables in each request to maintain the intended variable set.</li><li>The UI does not currently display the values for draft variables that are created via this endpoint.</li></ul>"
sidebar_label: "Save draft variables"
hide_title: true
hide_table_of_contents: true
api: eJztWG1vIzcO/iuEvmzSm9hpbw8ojCBAusnivO1tFrF3F+giQGiJ9qjRSFNJY8dn+L8fKM34NW3T+xx/sS1RpEjxeURqJSLOghh8E2MMj+K+EIqC9LqO2lkxEONSB3A1eeQBqMlPna8CBJqTRwMoeTwM4GLi+5cXzlxeGH35BY1WGClALAkihkdAq0B5nEaYo9c4MRR6F32jk/w1GWJpetIhajs7lISp8xtV22XvSpKPedLS4kg9DKeAaaYbexPgwWJFD1BhlCUFQLs16izBpInJ0MMcTUMPoPR0Sj4UoCPoAAHnpHowtCAxELgpqKY2WmKkA/PAdkKRlBkMcXcPSTere6Q6tu70OXSTy4+345vBRX9yedHkUA7t3D3y7iKfREWxdApCIyWFoOdklrDQxoCbk194HQnQmD+MYw9urVkeRTc0k0rHSAq0TRuuXIjgSZLlr98bChEmTrW2JsR5EHSIHItxSZ6mzlMBZEPjCZauAW2laVTejSXeLPrljkltgVCWG+3RQYXaRmx3oG0kq0ht4xkobk9+XBJ8HoJyFMC6CLLxnmxk33SoDS6TkhTnnB+HLscSI6AnkJ6QPZ9rzCEmq2qn7eZcGnMpCrGBwFCJgeA0uGaNDJovnVJRiBo9VhTJM6RWgnNADARn7VCJQmiGVI2xFMc4Ixhec0Jt0lwUgqOjPSkxiL6hQgRZUoVisBJxWbPmEL22M7Fe32dhCvEnp5YsIR2HMPJPrHOOamf7vwW2tzpW5Sa/kYzsg2dno6bAs5uQ7Yii97g8cuHLNrgOmprxD84DKsUDu27pSFX4a9M5eoe+Phc5luxi1224J9aFSBnwMh0ZlIdK4GtJFkJNUk+XGYbb2byGueFNAOkbqdHsZbJ0NsHESoZOLOHD6PZjl5YngbxGo/+bqbWjOOmq2tAT5KAwOGUJGMDoEE8TjbYwSymcHQrgiY0C1hxCrzEyMzBVI+O6J9brQkQdDe0c1NDWTbwe34r17uwI57Q5yrucU1liPxvTQKidDfm0fjh/y1/7gb21HVeBp9h4y3spdnPzu/53YrBK+t+enx9ruLJA3jvPdNmpgAUfyuZq0ZkD+CqaE5zw75ZFHt7d3VyNb64fIESMdNpLt9SzKvUWebDAllUM6ooUnGAIemZJncKko7onSXW+KtJNkHb04esYsIkl2djCDaJ7JAtNIPVC250zrcUOOi3BsSb/f1nfj/ouI9TeTQxV//i7zMAhbXZhzJw9I3+ErisL7VTOWU+1p0A25vLg3+PxJ8jKQDq1wWCOU5djPXjvPNATMjoKeHt+DtqqdPMGQHjzEypos/VNXspCb/eFProI711j1UaE8RQcOMsBynjJnvzzB+aPii+u2QsY5KpFYvaw9m6uVbI58ZqmsCO8714SdzIdr0qUpW2IaOULbN7kRGrl4fPn4XViEePcY1PDCfVmvYKhYNwMWk/C6T4XJB0M74S/ZxD8AvwlZktwyxfdQ5fEUw71a+a9Zt5fZd6/Xsz8esole2PpqSbJdVsWSX4EWJTabIrTbf2bsnRbBL8m5GtC/mlCJm+50eJq3YV03ly0D0R//n2fsyn0V5nr1v35TvkfyM+72r/xRgzEKqfQetDvr0oX4nqwqp2Pa1HsV9Y8lyEwxcZw4I2TaMps/bha5Yndqvfq0xCy9RQ5trGv7sfzH8+f1cSif6Blm/5bPWWM9bN6svCzmlJ7Ekg2XsdlCo507lGTGHy7L8SE0JM/eySeut8VHbHKHJ9uwbYHqfXPdNyEvEtyZxMMpA6rIX7J4PYX56hNqt+dhRGZ6dl/0OKMFEjTBG7eGAFt7za+Gv38y3A0PhvdjEbD249dF9duaL2//8322jCloPD/LCQ66fcdvD58HackZMa52zZwNxncBw3YtqPcwKBtcDaN4H2CzdSlrbSJzU0qdw9wdzMa88kcn18noRmnnlAtz6I7a0I+yB2K5HrUY62VWYLmLVZclU6aoC0X+bV3XOwz3I2zs6AVpZI1UXDq+n8lmlBHwShTlmaocMjCoN9fLBY9iVVjFfakqzjERkuygbZNofilHSkOFisnw2a1dul/39OUPFlJ/VZR6KfmkO+J5P/8+wyaECu0O1a4Fzp8OjgM3k6n/fpa9vpa9vpaJoqOBCM9xX5tUFuGVwLqqr1JvzHmivQyxogabJ7Itji7L9pb8ZtYrZjQP3uzXvPw7w35Zb48OvFEjkoH/q3EYIom0J8A9eSufcs4hedf3p71oLt67HKHeUUhEvV3r3yJgktCRT5tKk++y6bPxqxiu/joZW5ddCuuJPf4O7L8UsK346Y0+XQ7GvON0j74VU6xmMcFvxziIu/NJe/THZrGVsKgnTWpkhPZJH/+B8suaiA=
sidebar_class_name: "post api-method"
info_path: docs/apis-tools/tasklist-api-rest/specifications/tasklist-rest-api
custom_edit_url: null
hide_send_button: true
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Markdown from "@theme/Markdown";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Save draft variables</h1>

<MethodEndpoint
  method={"post"}
  path={"/v1/tasks/{taskId}/variables"}
></MethodEndpoint>

This operation performs several actions: <br/><ol><li>Validates the task and draft variables.</li><li>Deletes existing draft variables for the task.</li><li>Checks for new draft variables. If a new variable's `name` matches an existing one but the `value` differs, it is saved. In case of duplicate draft variable names, the last variable's value is kept.</li></ol><b>NOTE:</b><ul><li>Invoking this method successively will overwrite all existing draft variables. Only draft variables submitted in the most recent request body will be persisted. Therefore, ensure you include all necessary variables in each request to maintain the intended variable set.</li><li>The UI does not currently display the values for draft variables that are created via this endpoint.</li></ul>

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"taskId","in":"path","description":"The ID of the task.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>variables</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

Variables to update or add to the task.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The name of the variable."}}></SchemaItem><SchemaItem collapsible={false} name={"value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The value of the variable. When specifying the variable value, it's crucial to maintain consistency with JSON values (serialization for the complex objects such as list) and ensure that strings remain appropriately formatted."}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"204"} value={"204"}><div>

On success returned.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"*/*"} value={"*/*"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}>any</ul></details></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

An error is returned when the task is not active (not in the `CREATED` state).<br/>An error is returned if the task was not claimed (assigned) before, except the case when JWT authentication token used.<br/>An error is returned if the task is not assigned to the current user, except the case when JWT authentication token used.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/problem+json"} value={"application/problem+json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","description":"An integer that represents the HTTP status code of the error response. For example, 400 indicates a 'Bad Request' error, 404 indicates a 'Not Found' error, and so on.","format":"int32"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"A string that provides a brief description of the error that occurred."}}></SchemaItem><SchemaItem collapsible={false} name={"instance"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error instance UUID for lookup (e.g., in log messages)."}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": 0,\n  \"message\": \"string\",\n  \"instance\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"404"} value={"404"}><div>

An error is returned when the task with the `taskId` is not found.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/problem+json"} value={"application/problem+json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","description":"An integer that represents the HTTP status code of the error response. For example, 400 indicates a 'Bad Request' error, 404 indicates a 'Not Found' error, and so on.","format":"int32"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"A string that provides a brief description of the error that occurred."}}></SchemaItem><SchemaItem collapsible={false} name={"instance"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error instance UUID for lookup (e.g., in log messages)."}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": 0,\n  \"message\": \"string\",\n  \"instance\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"500"} value={"500"}><div>

An error is returned if an unexpected error occurs while persisting draft task variables.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/problem+json"} value={"application/problem+json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"status"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","description":"An integer that represents the HTTP status code of the error response. For example, 400 indicates a 'Bad Request' error, 404 indicates a 'Not Found' error, and so on.","format":"int32"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"A string that provides a brief description of the error that occurred."}}></SchemaItem><SchemaItem collapsible={false} name={"instance"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error instance UUID for lookup (e.g., in log messages)."}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"status\": 0,\n  \"message\": \"string\",\n  \"instance\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
